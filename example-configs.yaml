# Gavel Provider Configuration Examples
# Copy sections from this file to ~/.config/gavel/policies.yaml or .gavel/policies.yaml

# ============================================================================
# Ollama (Local, Free)
# ============================================================================
# Requires Ollama running locally with the specified model installed
# Fast models: qwen2.5-coder:7b, deepseek-coder-v2:16b, codestral:22b
provider:
  name: ollama
  ollama:
    model: qwen2.5-coder:7b     # fast and accurate (recommended)
    # model: gpt-oss:20b        # larger model, higher quality
    base_url: http://localhost:11434/v1

# ============================================================================
# OpenRouter (Unified API, Pay-per-use)
# ============================================================================
# Requires: OPENROUTER_API_KEY environment variable
# Fast models: google/gemini-2.0-flash-exp, anthropic/claude-haiku-4-5, deepseek/deepseek-chat
provider:
  name: openrouter
  openrouter:
    model: anthropic/claude-haiku-4-5  # fast, cost-effective (recommended)
    # model: anthropic/claude-3-5-sonnet-20241022  # high quality
    # model: google/gemini-2.0-flash-exp      # very fast
    # model: deepseek/deepseek-chat           # fast and cheap

# ============================================================================
# Anthropic Direct API (Official Claude API)
# ============================================================================
# Requires: ANTHROPIC_API_KEY environment variable
# Fast models: claude-haiku-4-5
provider:
  name: anthropic
  anthropic:
    model: claude-haiku-4-5        # fast, cost-effective (recommended)
    # model: claude-3-5-sonnet-20241022     # high quality
    # model: claude-opus-4-6-20260205       # highest quality (released Feb 5, 2026)

# ============================================================================
# AWS Bedrock (Enterprise, AWS-hosted)
# ============================================================================
# Requires: AWS credentials configured (via ~/.aws/credentials or environment)
# Bedrock model IDs use different format than API model names
# Fast models: anthropic.claude-haiku-4-5-v1:0
provider:
  name: bedrock
  bedrock:
    model: anthropic.claude-haiku-4-5-v1:0  # fast, cost-effective (recommended)
    region: us-east-1
    # model: global.anthropic.claude-sonnet-4-5-20250929-v1:0  # Sonnet 4.5 (global endpoint)
    # model: anthropic.claude-opus-4-6-20260205-v1:0  # Opus 4.6 (released Feb 5, 2026)

# ============================================================================
# OpenAI (GPT models)
# ============================================================================
# Requires: OPENAI_API_KEY environment variable
# Fast models: o3-mini
provider:
  name: openai
  openai:
    model: gpt-5.3-codex                        # coding-specialized (recommended)
    # model: gpt-5.2                            # flagship general model
    # model: o3-mini                            # fast reasoning model

# ============================================================================
# Performance Recommendations
# ============================================================================
#
# For SPEED (fastest to slowest):
# 1. Ollama qwen2.5-coder:7b (local, free, very fast)
# 2. OpenRouter google/gemini-2.0-flash-exp (cloud, very fast)
# 3. Anthropic claude-haiku-4-5 (cloud, fast)
# 4. OpenAI o3-mini (cloud, fast)
# 5. OpenRouter deepseek/deepseek-chat (cloud, fast and cheap)
#
# For QUALITY (best to good):
# 1. Anthropic claude-opus-4-6-20260205 (highest quality, released Feb 5, 2026)
# 2. Anthropic claude-sonnet-4-5 / Bedrock sonnet-4-5 (excellent quality)
# 3. OpenAI gpt-5.3-codex (excellent for code analysis)
# 4. OpenAI gpt-5.2 (very good general quality)
# 5. Anthropic claude-haiku-4-5 (fast but still high quality)
#
# For COST (cheapest to most expensive):
# 1. Ollama (free, runs locally)
# 2. OpenRouter deepseek/deepseek-chat (~$0.14/$0.28 per 1M tokens)
# 3. OpenRouter google/gemini-2.0-flash-exp (~$0.10/$0.30 per 1M tokens)
# 4. OpenAI o3-mini (~$0.15/$0.60 per 1M tokens)
# 5. Anthropic claude-3-5-haiku (~$0.80/$4.00 per 1M tokens)
# 6. OpenAI gpt-5.2 / gpt-5.3-codex (~$2.50/$10.00 per 1M tokens)
# 7. Anthropic claude-3-5-sonnet (~$3.00/$15.00 per 1M tokens)
# 8. Anthropic claude-opus-4-6 (~$15.00/$75.00 per 1M tokens)

# ============================================================================
# Policy Configuration (same for all providers)
# ============================================================================
policies:
  shall-be-merged:
    description: "Shall this code be merged?"
    severity: error
    instruction: "Shall this code be blocked from merging? Flag code that is risky, sloppy, untested, hard to understand, or unnecessarily complex."
    enabled: true

  function-length:
    description: "Functions should not exceed a reasonable length"
    severity: note
    instruction: "Flag functions longer than 50 lines. Consider whether the function could be decomposed."
    enabled: false
